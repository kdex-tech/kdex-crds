---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.18.0
  name: microfrontendpagebindings.kdex.dev
spec:
  group: kdex.dev
  names:
    kind: MicroFrontEndPageBinding
    listKind: MicroFrontEndPageBindingList
    plural: microfrontendpagebindings
    shortNames:
    - mfe-pb
    singular: microfrontendpagebinding
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: The state of the Ready condition
      jsonPath: .status.conditions[?(@.type=="Ready")].status
      name: Ready
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: MicroFrontEndPageBinding is the Schema for the microfrontendpagebindings
          API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: spec defines the desired state of MicroFrontEndPageBinding
            properties:
              basePath:
                description: basePath is the shortest path by which the page may be
                  accessed. It must not contain path parameters. This path will be
                  used in site navigation. This path is subject to being prefixed
                  for localization by `/{l10n}` and will be when the user selects
                  a non-default language.
                pattern: ^/
                type: string
              contentEntries:
                description: contentEntries is a set of content entries to bind to
                  this page. They may be either raw HTML fragments or MicroFrontEndApp
                  references.
                items:
                  properties:
                    appRef:
                      description: appRef is a reference to the MicroFrontEndApp to
                        include in this binding.
                      properties:
                        name:
                          default: ""
                          description: |-
                            Name of the referent.
                            This field is effectively required, but due to backwards compatibility is
                            allowed to be empty. Instances of this type with an empty value here are
                            almost certainly wrong.
                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                          type: string
                      type: object
                      x-kubernetes-map-type: atomic
                    customElementName:
                      description: customElementName is the name of the MicroFrontEndApp
                        custom element to render in the specified slot (if present
                        in the template).
                      type: string
                    rawHTML:
                      description: rawHTML is a raw HTML string to be rendered in
                        the specified slot (if present in the template).
                      type: string
                    slot:
                      description: slot is the name of the App slot to which this
                        entry will be bound. If omitted, the slot used will be `main`.
                        No more than one entry can be bound to a slot.
                      type: string
                  type: object
                  x-kubernetes-validations:
                  - message: exactly one of rawHTML or both customElementName and
                      appRef must be set
                    rule: has(self.rawHTML) != (has(self.customElementName) && has(self.appRef))
                maxItems: 8
                minItems: 1
                type: array
                x-kubernetes-validations:
                - message: if there are multiple entries, one must be 'main'
                  rule: self.size() <= 1 || self.exists(x, x.slot == 'main')
              hostRef:
                description: hostRef is a reference to the MicroFrontEndHost that
                  this binding is for.
                properties:
                  name:
                    default: ""
                    description: |-
                      Name of the referent.
                      This field is effectively required, but due to backwards compatibility is
                      allowed to be empty. Instances of this type with an empty value here are
                      almost certainly wrong.
                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                    type: string
                type: object
                x-kubernetes-map-type: atomic
              label:
                description: label is the value used in menus and page titles before
                  localization occurs (or when no translation exists for the current
                  language).
                type: string
              navigationHints:
                description: navigationHints are optional navigation properties that
                  if omitted result in the page being hidden from the navigation.
                properties:
                  icon:
                    description: icon is the name of the icon to display next to the
                      menu entry for this page.
                    type: string
                  weight:
                    anyOf:
                    - type: integer
                    - type: string
                    description: weight is a property that influences the position
                      of the page menu entry. Items at each level are sorted first
                      by ascending weight and then ascending lexicographically.
                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    x-kubernetes-int-or-string: true
                type: object
              overrideFooterRef:
                description: overrideFooterRef is an optional reference to a MicroFrontEndPageFooter
                  resource. If not specified, the footer from the archetype will be
                  used.
                properties:
                  name:
                    default: ""
                    description: |-
                      Name of the referent.
                      This field is effectively required, but due to backwards compatibility is
                      allowed to be empty. Instances of this type with an empty value here are
                      almost certainly wrong.
                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                    type: string
                type: object
                x-kubernetes-map-type: atomic
              overrideHeaderRef:
                description: overrideHeaderRef is an optional reference to a MicroFrontEndPageHeader
                  resource. If not specified, the header from the archetype will be
                  used.
                properties:
                  name:
                    default: ""
                    description: |-
                      Name of the referent.
                      This field is effectively required, but due to backwards compatibility is
                      allowed to be empty. Instances of this type with an empty value here are
                      almost certainly wrong.
                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                    type: string
                type: object
                x-kubernetes-map-type: atomic
              overrideMainNavigationRef:
                description: overrideMainNavigationRef is an optional reference to
                  a MicroFrontEndPageNavigation resource. If not specified, the main
                  navigation from the archetype will be used.
                properties:
                  name:
                    default: ""
                    description: |-
                      Name of the referent.
                      This field is effectively required, but due to backwards compatibility is
                      allowed to be empty. Instances of this type with an empty value here are
                      almost certainly wrong.
                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                    type: string
                type: object
                x-kubernetes-map-type: atomic
              pageArchetypeRef:
                description: pageArchetypeRef is a reference to the MicroFrontEndPageArchetype
                  that this binding is for.
                properties:
                  name:
                    default: ""
                    description: |-
                      Name of the referent.
                      This field is effectively required, but due to backwards compatibility is
                      allowed to be empty. Instances of this type with an empty value here are
                      almost certainly wrong.
                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                    type: string
                type: object
                x-kubernetes-map-type: atomic
              parentPageRef:
                description: parentPageRef is a reference to the MicroFrontEndPageBinding
                  bellow which this page will appear in the main navigation. If not
                  set, the page will be placed in the top level of the navigation.
                properties:
                  name:
                    default: ""
                    description: |-
                      Name of the referent.
                      This field is effectively required, but due to backwards compatibility is
                      allowed to be empty. Instances of this type with an empty value here are
                      almost certainly wrong.
                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                    type: string
                type: object
                x-kubernetes-map-type: atomic
              patternPath:
                description: patternPath, which must be prefixed by BasePath, is an
                  extension of basePath that adds pattern matching as defined by https://pkg.go.dev/net/http#hdr-Patterns-ServeMux.
                  This path is subject to being prefixed for localization by `/{l10n}`
                  such as when the user selects a non-default language.
                type: string
            required:
            - basePath
            - contentEntries
            - hostRef
            - label
            - pageArchetypeRef
            type: object
            x-kubernetes-validations:
            - message: if patternPath is specified, basePath must be a prefix of patternPath
              rule: '!has(self.patternPath) || self.patternPath.startsWith(self.basePath)'
          status:
            description: status defines the observed state of MicroFrontEndPageBinding
            properties:
              conditions:
                description: |-
                  conditions represent the current state of the MicroFrontEndPageBinding resource.
                  Each condition has a unique type and reflects the status of a specific aspect of the resource.

                  Standard condition types include:
                  - "Available": the resource is fully functional
                  - "Progressing": the resource is being created or updated
                  - "Degraded": the resource failed to reach or maintain its desired state

                  The status of each condition is one of True, False, or Unknown.
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
