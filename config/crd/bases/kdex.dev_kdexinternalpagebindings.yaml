---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.20.0
  name: kdexinternalpagebindings.kdex.dev
spec:
  group: kdex.dev
  names:
    kind: KDexInternalPageBinding
    listKind: KDexInternalPageBindingList
    plural: kdexinternalpagebindings
    shortNames:
    - kdex-i-pb
    singular: kdexinternalpagebinding
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: KDexInternalPageBinding is the Schema for the kdexinternalpagebindings
          API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: spec defines the desired state of KDexInternalPageBinding
            properties:
              basePath:
                description: basePath is the shortest path by which the page may be
                  accessed. It must not contain path parameters. This path will be
                  used in site navigation. This path is subject to being prefixed
                  for localization by `/{l10n}` and will be when the user selects
                  a non-default language.
                pattern: ^/
                type: string
              contentEntries:
                description: contentEntries is a set of content entries to bind to
                  this page. They may be either raw HTML fragments or KDexApp references.
                items:
                  properties:
                    appRef:
                      description: appRef is a reference to the KDexApp to include
                        in this binding.
                      properties:
                        kind:
                          description: Kind is the type of resource being referenced
                          type: string
                        name:
                          description: Name of the referent.
                          type: string
                        namespace:
                          description: |-
                            Namespace, if set, causes the lookup for the namespace scoped Kind of the referent to use the specified
                            namespace. If not set, the namespace of the resource will be used to lookup the namespace scoped Kind of the
                            referent.
                            If the referring resource is cluster scoped, this field is ignored.
                            Defaulted to nil.
                          type: string
                      required:
                      - kind
                      - name
                      type: object
                      x-kubernetes-map-type: atomic
                      x-kubernetes-validations:
                      - message: '''kind'' must be either KDexApp or KDexClusterApp'
                        rule: self.kind == "KDexApp" || self.kind == "KDexClusterApp"
                    attributes:
                      additionalProperties:
                        type: string
                      description: attributes are key/value pairs that will be added
                        to the custom element as attributes when rendered.
                      type: object
                    customElementName:
                      description: customElementName is the name of the KDexApp custom
                        element to render in the specified slot (if present in the
                        template).
                      type: string
                    rawHTML:
                      description: rawHTML is a raw HTML string to be rendered in
                        the specified slot (if present in the template).
                      type: string
                    slot:
                      description: slot is the unique name to which this entry will
                        be bound.
                      type: string
                  required:
                  - slot
                  type: object
                  x-kubernetes-validations:
                  - message: appRef must be accompanied by customElementName
                    rule: '!has(self.appRef) || self.customElementName != ""'
                  - message: exactly one of the fields in [appRef rawHTML] must be
                      set
                    rule: '[has(self.appRef),has(self.rawHTML)].filter(x,x==true).size()
                      == 1'
                maxItems: 8
                minItems: 1
                type: array
                x-kubernetes-list-map-keys:
                - slot
                x-kubernetes-list-type: map
                x-kubernetes-validations:
                - message: slot 'main' must be specified
                  rule: self.exists(x, x.slot == 'main')
              hostRef:
                description: hostRef is a reference to the KDexHost that this binding
                  is for.
                properties:
                  name:
                    default: ""
                    description: |-
                      Name of the referent.
                      This field is effectively required, but due to backwards compatibility is
                      allowed to be empty. Instances of this type with an empty value here are
                      almost certainly wrong.
                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                    type: string
                type: object
                x-kubernetes-map-type: atomic
                x-kubernetes-validations:
                - message: hostRef.name must not be empty
                  rule: self.name.size() > 0
              label:
                description: label is the value used in menus and page titles before
                  localization occurs (or when no translation exists for the current
                  language).
                maxLength: 256
                minLength: 3
                type: string
              navigationHints:
                description: navigationHints are optional navigation properties that
                  if omitted result in the page being hidden from the navigation.
                properties:
                  icon:
                    description: icon is the name of the icon to display next to the
                      menu entry for this page.
                    type: string
                  weight:
                    anyOf:
                    - type: integer
                    - type: string
                    description: weight is a property that influences the position
                      of the page menu entry. Items at each level are sorted first
                      by ascending weight and then ascending lexicographically.
                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    x-kubernetes-int-or-string: true
                type: object
              overrideFooterRef:
                description: overrideFooterRef is an optional reference to a KDexPageFooter
                  resource. If not specified, the footer from the archetype will be
                  used.
                properties:
                  kind:
                    description: Kind is the type of resource being referenced
                    type: string
                  name:
                    description: Name of the referent.
                    type: string
                  namespace:
                    description: |-
                      Namespace, if set, causes the lookup for the namespace scoped Kind of the referent to use the specified
                      namespace. If not set, the namespace of the resource will be used to lookup the namespace scoped Kind of the
                      referent.
                      If the referring resource is cluster scoped, this field is ignored.
                      Defaulted to nil.
                    type: string
                required:
                - kind
                - name
                type: object
                x-kubernetes-map-type: atomic
                x-kubernetes-validations:
                - message: '''kind'' must be either KDexPageFooter or KDexClusterPageFooter'
                  rule: self.kind == "KDexPageFooter" || self.kind == "KDexClusterPageFooter"
              overrideHeaderRef:
                description: overrideHeaderRef is an optional reference to a KDexPageHeader
                  resource. If not specified, the header from the archetype will be
                  used.
                properties:
                  kind:
                    description: Kind is the type of resource being referenced
                    type: string
                  name:
                    description: Name of the referent.
                    type: string
                  namespace:
                    description: |-
                      Namespace, if set, causes the lookup for the namespace scoped Kind of the referent to use the specified
                      namespace. If not set, the namespace of the resource will be used to lookup the namespace scoped Kind of the
                      referent.
                      If the referring resource is cluster scoped, this field is ignored.
                      Defaulted to nil.
                    type: string
                required:
                - kind
                - name
                type: object
                x-kubernetes-map-type: atomic
                x-kubernetes-validations:
                - message: '''kind'' must be either KDexPageHeader or KDexClusterPageHeader'
                  rule: self.kind == "KDexPageHeader" || self.kind == "KDexClusterPageHeader"
              overrideMainNavigationRef:
                description: overrideMainNavigationRef is an optional reference to
                  a KDexPageNavigation resource. If not specified, the main navigation
                  from the archetype will be used.
                properties:
                  kind:
                    description: Kind is the type of resource being referenced
                    type: string
                  name:
                    description: Name of the referent.
                    type: string
                  namespace:
                    description: |-
                      Namespace, if set, causes the lookup for the namespace scoped Kind of the referent to use the specified
                      namespace. If not set, the namespace of the resource will be used to lookup the namespace scoped Kind of the
                      referent.
                      If the referring resource is cluster scoped, this field is ignored.
                      Defaulted to nil.
                    type: string
                required:
                - kind
                - name
                type: object
                x-kubernetes-map-type: atomic
                x-kubernetes-validations:
                - message: '''kind'' must be either KDexPageNavigation or KDexClusterPageNavigation'
                  rule: self.kind == "KDexPageNavigation" || self.kind == "KDexClusterPageNavigation"
              packageReferences:
                description: packageReferences are the references to the packages
                  that are used by this binding.
                items:
                  description: |-
                    PackageReference specifies the name and version of an NPM package. Prefereably the package should be available from
                    the public npm registry. If the package is not available from the public npm registry, a secretRef should be provided
                    to authenticate to the npm registry. That package must contain an ES module for use in the browser.
                  properties:
                    exportMapping:
                      description: exportMapping is a mapping of the module's exports
                        that will be used when the module import is written. e.g.
                        `import [exportMapping] from [module_name];`. If exportMapping
                        is not provided the module will be written as `import [module_name];`
                      type: string
                    name:
                      description: name contains a scoped npm package name.
                      type: string
                    secretRef:
                      description: secretRef is a reference to a secret containing
                        authentication credentials for the NPM registry that holds
                        the package.
                      properties:
                        name:
                          default: ""
                          description: |-
                            Name of the referent.
                            This field is effectively required, but due to backwards compatibility is
                            allowed to be empty. Instances of this type with an empty value here are
                            almost certainly wrong.
                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                          type: string
                      type: object
                      x-kubernetes-map-type: atomic
                    version:
                      description: version contains a specific npm package version.
                      type: string
                  required:
                  - name
                  - version
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
              pageArchetypeRef:
                description: pageArchetypeRef is a reference to the KDexPageArchetype
                  that this binding is for.
                properties:
                  kind:
                    description: Kind is the type of resource being referenced
                    type: string
                  name:
                    description: Name of the referent.
                    type: string
                  namespace:
                    description: |-
                      Namespace, if set, causes the lookup for the namespace scoped Kind of the referent to use the specified
                      namespace. If not set, the namespace of the resource will be used to lookup the namespace scoped Kind of the
                      referent.
                      If the referring resource is cluster scoped, this field is ignored.
                      Defaulted to nil.
                    type: string
                required:
                - kind
                - name
                type: object
                x-kubernetes-map-type: atomic
                x-kubernetes-validations:
                - message: pageArchetypeRef.name must not be empty
                  rule: self.name.size() > 0
                - message: '''kind'' must be either KDexPageArchetype or KDexClusterPageArchetype'
                  rule: self.kind == "KDexPageArchetype" || self.kind == "KDexClusterPageArchetype"
              parentPageRef:
                description: parentPageRef is a reference to the KDexPageBinding bellow
                  which this page will appear in the main navigation. If not set,
                  the page will be placed in the top level of the navigation.
                properties:
                  name:
                    default: ""
                    description: |-
                      Name of the referent.
                      This field is effectively required, but due to backwards compatibility is
                      allowed to be empty. Instances of this type with an empty value here are
                      almost certainly wrong.
                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                    type: string
                type: object
                x-kubernetes-map-type: atomic
              patternPath:
                description: patternPath, which must be prefixed by BasePath, is an
                  extension of basePath that adds pattern matching as defined by https://pkg.go.dev/net/http#hdr-Patterns-ServeMux.
                  This path is subject to being prefixed for localization by `/{l10n}`
                  such as when the user selects a non-default language.
                type: string
              requiredBackends:
                description: requiredBackends is a set of references to KDexApp or
                  KDexScriptLibrary resources that specify a backend.
                items:
                  properties:
                    kind:
                      description: Kind is the type of resource being referenced
                      type: string
                    name:
                      description: Name of the referent.
                      type: string
                    namespace:
                      description: |-
                        Namespace, if set, causes the lookup for the namespace scoped Kind of the referent to use the specified
                        namespace. If not set, the namespace of the resource will be used to lookup the namespace scoped Kind of the
                        referent.
                        If the referring resource is cluster scoped, this field is ignored.
                        Defaulted to nil.
                      type: string
                  required:
                  - kind
                  - name
                  type: object
                  x-kubernetes-map-type: atomic
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
              scriptLibraryRef:
                description: scriptLibraryRef is an optional reference to a KDexScriptLibrary
                  resource.
                properties:
                  kind:
                    description: Kind is the type of resource being referenced
                    type: string
                  name:
                    description: Name of the referent.
                    type: string
                  namespace:
                    description: |-
                      Namespace, if set, causes the lookup for the namespace scoped Kind of the referent to use the specified
                      namespace. If not set, the namespace of the resource will be used to lookup the namespace scoped Kind of the
                      referent.
                      If the referring resource is cluster scoped, this field is ignored.
                      Defaulted to nil.
                    type: string
                required:
                - kind
                - name
                type: object
                x-kubernetes-map-type: atomic
                x-kubernetes-validations:
                - message: '''kind'' must be either KDexScriptLibrary or KDexClusterScriptLibrary'
                  rule: self.kind == "KDexScriptLibrary" || self.kind == "KDexClusterScriptLibrary"
              scripts:
                description: scripts is a set of script references. They may contain
                  URLs that point to resources hosted at some public address, npm
                  module references or they may contain tag contents.
                items:
                  properties:
                    attributes:
                      additionalProperties:
                        type: string
                      description: attributes are key/value pairs that will be added
                        to the element when rendered.
                      type: object
                    footScript:
                      default: false
                      description: footScript is a flag for script or scriptSrc that
                        indicates if the tag should be added in the head of the page
                        or at the foot. The default is false (add to head). To add
                        the script to the foot of the page set footScript to true.
                      type: boolean
                    script:
                      description: script is the content that will be added to a `<script>`
                        element when rendered.
                      type: string
                    scriptSrc:
                      description: |-
                        scriptSrc is a value for a `<script>` `src` attribute. It must be either and absolute URL with a protocol and host
                        or it must be relative to the `ingressPath` field of the specified Backend.
                      type: string
                  type: object
                  x-kubernetes-validations:
                  - message: exactly one of the fields in [script scriptSrc] must
                      be set
                    rule: '[has(self.script),has(self.scriptSrc)].filter(x,x==true).size()
                      == 1'
                maxItems: 64
                type: array
            required:
            - basePath
            - contentEntries
            - hostRef
            - label
            - pageArchetypeRef
            type: object
            x-kubernetes-validations:
            - message: if patternPath is specified, basePath must be a prefix of patternPath
              rule: '!has(self.patternPath) || self.patternPath.startsWith(self.basePath)'
          status:
            description: status defines the observed state of KDexApp
            properties:
              attributes:
                additionalProperties:
                  type: string
                description: attributes hold state of the resource as key/value pairs.
                type: object
              conditions:
                description: |-
                  conditions represent the current state of the resource.
                  Each condition has a unique type and reflects the status of a specific aspect of the resource.

                  Standard condition types include:
                  - "Progressing": the resource is being created or updated
                  - "Ready": the resource is fully functional
                  - "Degraded": the resource failed to reach or maintain its desired state

                  The status of each condition is one of True, False, or Unknown.
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              observedGeneration:
                description: |-
                  observedGeneration is the most recent generation observed for this resource. It corresponds to the
                  resource's generation, which is updated on mutation by the API Server.
                format: int64
                type: integer
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
